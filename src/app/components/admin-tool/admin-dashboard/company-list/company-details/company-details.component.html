<div class="small-container mt-5 mb-9"
     *ngIf="company != null">

  <fit-company-overview [company]="company"
                        [showAdminVersion]="true">
  </fit-company-overview>

  <hr>

  <div class="row mt-3">

    <div class="col-md-6">
      <h3 class="text-bold">Mitglieder-Status</h3>

      <div class="d-flex align-items-center">
        <label for="memberStatusSelect"
               class="m-0 mr-2">
          Mitgliedsstatus:
        </label>
        <select id="memberStatusSelect"
                class="form-control cursor-pointer"
                [(ngModel)]="company.memberStatus">
          <option *ngFor="let memberStatus of orderedMemberStatus"
                  [value]="memberStatus">
            <ng-container [ngSwitch]="memberStatus">
              <span *ngSwitchCase="MemberStatus.None">
                <i class="fa fa-times"></i> kein Mitglied
              </span>
              <span *ngSwitchCase="MemberStatus.Interested">
                <i class="fa fa-clock-o"></i> interessiert
              </span>
              <span *ngSwitchCase="MemberStatus.Small">
                <i class="fa fa-star-half-o"></i> kleines Mitglied
              </span>
              <span *ngSwitchCase="MemberStatus.Big">
                <i class="fa fa-star-o"></i> großes Mitglied
              </span>
            </ng-container>
          </option>
        </select>
      </div>

    </div>

    <div class="col-md-6">
      <h3 class="text-bold">Fachrichtungen</h3>
      <fit-custom-checkbox *ngFor="let branch of selectedBranches"
                           [(value)]="branch.selected"
                           [message]="branch.branch.name">
      </fit-custom-checkbox>
    </div>

  </div>

  <h3 class="text-bold">Tags</h3>

  <table style="width: 100%">
    <tr>
      <td class="p-1" colspan="2">
        <div class="mb-2 d-flex align-items-center">
          <label for="tagFilter" class="m-0 mr-2">Filter:</label>
          <input type="text"
                 id="tagFilter"
                 class="form-control"
                 [(ngModel)]="tagFilter"
                 placeholder="Suche">
        </div>
      </td>
    </tr>

    <tr>
      <td class="p-1">

        <div class="tag-scroll-container">

          <div [ngSwitch]="getFilteredTags().length == 0" class="mt-2">
            <div *ngSwitchCase="true" class="text-muted text-center user-select-none">
              keine Tags vorhanden
            </div>
            <div *ngSwitchDefault>
              <div *ngFor="let tag of getFilteredTags()"
                   class="tag-item floating-effect mb-2 rounded user-select-none"
                   (click)="addTagToCompany(tag)">
                {{tag.value}}
              </div>
            </div>
          </div>

        </div>
      </td>

      <td class="p-3 vert-top">
        <div>
          <div [ngSwitch]="company.tags.length == 0" class="mt-2">
            <div *ngSwitchCase="true" class="text-muted">
              ... es sind keine Tags vorhanden
            </div>
            <div *ngSwitchDefault class="d-flex flex-wrap">
              <div *ngFor="let tag of company.tags" class="d-flex mx-1 my-1">
                <div class="left-badge bg-primary text-light">
                  {{tag.tag.value}}
                </div>
                <div class="right-badge delete-badge text-light"
                     (click)="removeTagFromCompany(tag.tag)">
                  <i class="fa fa-times"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </td>
    </tr>
  </table>

  <div class="d-flex">
    <button class="btn btn-success text-bold ml-auto mt-2"
            (click)="updateCompany()">
      <i class="fa fa-download"></i>
      Änderungen übernehmen
    </button>
  </div>
</div>
