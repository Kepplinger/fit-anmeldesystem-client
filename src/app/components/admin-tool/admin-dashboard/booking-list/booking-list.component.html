<div class="m-5">

  <div class="d-flex mb-1">
    <h1>Anmeldungen</h1>

    <div class="flex-1"></div>
    <div class="booking-tool-btn my-2 mr-3"
         (click)="routeToCsvExport()">
      <i class="fa fa-file-excel-o text-success mr-1"></i>
      CSV-Export
    </div>
    <a class="booking-tool-btn my-2"
       role="link"
       [href]="imageDownloadLink">
      <i class="fa fa-file-image-o text-primary mr-1"></i>
      Bilder-Export
    </a>
  </div>

  <div class="d-flex align-items-center">
    <input type="text"
           class="form-control filter-input"
           placeholder="Suche Firma mit Namen..."
           [(ngModel)]="nameSearch"
           (input)="searchName()">

    <input type="text"
           class="form-control filter-input"
           placeholder="Suche Firma mit Standplatz..."
           [(ngModel)]="placeSearch"
           (input)="searchName()">

    <div class="text-bold mr-2">Pakete:</div>
    <fit-custom-checkbox class="mx-2"
                         (valueChange)="tickCheckbox(0)"
                         [message]="'Basic'"
                         [preventMargins]="true">
    </fit-custom-checkbox>

    <fit-custom-checkbox class="mx-2"
                         (valueChange)="tickCheckbox(1)"
                         [message]="'Sponsor'"
                         [preventMargins]="true">
    </fit-custom-checkbox>

    <fit-custom-checkbox class="mx-2"
                         (valueChange)="tickCheckbox(2)"
                         [message]="'Lecture'"
                         [preventMargins]="true">
    </fit-custom-checkbox>
  </div>

  <table class="table" fitSortableTable (sorted)="onSorted($event)">
    <thead>
    <tr>
      <th class="hooverable" sortable-column="company.name" sort-direction="asc">Firma</th>
      <th class="hooverable" sortable-column="creationDate" sort-direction="asc">Anmeldezeitpunkt</th>
      <th class="hooverable" sortable-column="location.number" sort-direction="asc">Standplatz</th>
      <th>Kontakt - E-Mail</th>
      <th class="hooverable" sortable-column="fitPackage.name" sort-direction="asc">Paket</th>
      <th>Abs-Mitglied</th>
      <th>Status</th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let booking of bookings">
      <td>{{booking.company?.name}}</td>
      <td>{{booking.creationDate | date:'medium'}}</td>
      <td>{{booking.location?.number}}</td>
      <td>{{booking.company?.contact?.email}}</td>
      <td>{{booking.fitPackage?.name}}</td>
      <td>Gro√ü</td>
      <td>Austehend</td>
      <td>
        <div class="icon-button"
             (click)="routeToBookingDetail(booking)">
          <i class="fa fa-pencil fa-1-5x"></i>
        </div>
      </td>
    </tr>
    </tbody>
  </table>

  <div *ngIf="loading" class="text-center mt-4">
    <i class="fa fa-4x fa-pulse fa-spinner"></i>
  </div>
</div>
